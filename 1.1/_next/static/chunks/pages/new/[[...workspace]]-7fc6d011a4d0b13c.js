(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[858],{4873:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/new/[[...workspace]]",function(){return t(9257)}])},9257:function(e,a,t){"use strict";t.r(a),t.d(a,{__N_SSG:function(){return m},default:function(){return p}});var s=t(5893),l=t(9008),i=t.n(l),r=t(7294),n=t(3162),o=t(8813),c=t(3157),d=t(1163),u=JSON.parse('{"wZ":[{"friendly_name":"BitCurator 5","image_src":"testing.png","description":"BitCurator is an Ubuntu-based Linux distribution designed to support the needs of library, archive, and museum professionals processing born-digital materials.","cores":2,"memory":8572,"cpu_allocation_method":"Inherit","docker_registry":"https://index.docker.io/v1/","categories":["Desktop","Archival","Library"],"enabled":true,"image_type":"Container","notes":"**⚠️ WARNING – IMAGE CURRENTLY UNDER TROUBLESHOOTING ⚠️**\\n\\nThis BitCurator 5 image is still being actively worked on and may exhibit issues. It includes a suite of open source disk imaging, digital forensics, and data analysis tools curated to support modern born-digital archival workflows. See the image’s information page for details.","architecture":["amd64"],"run_config":{"hostname":"bitcurator"},"exec_config":{"go":{"cmd":"bash -c \'/dockerstartup/custom_startup.sh --go --url \\"$KASM_URL\\"\'"},"assign":{"cmd":"bash -c \'/dockerstartup/custom_startup.sh --assign --url \\"$KASM_URL\\"\'"}},"compatibility":[{"version":"1.18.x","image":"squirrelworksllc/bitcurator5:latest","uncompressed_size_mb":7380,"available_tags":["latest","develop"]}],"sha":"aea6894372bf75c90801adaac34cf4df32ab62be"},{"friendly_name":"REMnux","image_src":"testing.png","description":"REMnux is a Linux toolkit for reverse-engineering and analyzing malicious software.","cores":2,"memory":6499,"cpu_allocation_method":"Inherit","docker_registry":"https://index.docker.io/v1/","categories":["Desktop","Malware","Analysis"],"enabled":true,"image_type":"Container","notes":"**⚠️ WARNING – IMAGE CURRENTLY UNDER TROUBLESHOOTING ⚠️**\\n\\nDo NOT use this image yet. REMnux is a Linux toolkit for reverse-engineering and analyzing malicious software. See the image’s information page for included tools.","architecture":["amd64"],"run_config":{"hostname":"remnux"},"exec_config":{"go":{"cmd":"bash -c \'/dockerstartup/custom_startup.sh --go --url \\"$KASM_URL\\"\'"},"assign":{"cmd":"bash -c \'/dockerstartup/custom_startup.sh --assign --url \\"$KASM_URL\\"\'"}},"compatibility":[{"version":"1.18.x","image":"squirrelworksllc/remnux:1.18.0","uncompressed_size_mb":10802,"available_tags":["1.18.0","develop"]}],"sha":"45829ef8e5a26b3a937a74757632d33941366eb2"},{"friendly_name":"Ubuntu 24.04 DIND","image_src":"noble_dind_custom.png","description":"This is a custom Ubuntu 24.04 LTS build with DIND.","cores":2,"memory":2768,"cpu_allocation_method":"Inherit","docker_registry":"https://index.docker.io/v1/","categories":["Desktop","Productivity","Development"],"image_type":"Container","notes":"This is a custom Ubuntu 24.04 LTS build that gives Docker-in-a-Docker (DIND). It has both a develop and production version.","architecture":["amd64"],"compatibility":[{"version":"1.18.x","image":"squirrelworksllc/ubuntu-noble-dind:1.18.0","uncompressed_size_mb":1785,"available_tags":["1.18.0","develop"]}],"sha":"1a16e7cd2bad5f2ae681ad2d1a627f2699bb004a"},{"friendly_name":"Ubuntu 24.04 LTS","image_src":"noble_numbat_custom.png","description":"This is a custom Ubuntu 24.04 LTS build with tools added for InfoSec professionals.","cores":2,"memory":2768,"gpu_count":0,"cpu_allocation_method":"Inherit","docker_registry":"https://index.docker.io/v1/","exec_config":{"go":{"cmd":"bash -lc \'if [ -x /dockerstartup/tools/runtime_validation.sh ]; then /dockerstartup/tools/runtime_validation.sh; fi\'"},"assign":{"cmd":"bash -lc \'if [ -x /dockerstartup/tools/runtime_validation.sh ]; then /dockerstartup/tools/runtime_validation.sh; fi\'"}},"categories":["Desktop","Productivity","Development"],"enabled":true,"image_type":"Container","notes":"This is a custom Ubuntu 24.04 LTS build. For included applications see this image\'s information page. It has both a develop and production version.","architecture":["amd64"],"compatibility":[{"version":"1.18.x","image":"squirrelworksllc/ubuntu-noble-desktop:1.18.0","uncompressed_size_mb":3716,"available_tags":["1.18.0","develop"]}],"sha":"d8213bd46a77831aca1657a07ce828a0615751b9"}]}'),m=!0;function p(e){let{workspace:a}=e,l=(0,r.useRef)(null),m=(0,r.useRef)(null),p=(0,r.useRef)(null),[b,f]=(0,r.useState)(null),[g,x]=(0,r.useState)(null),[v,_]=(0,r.useState)(null),[y,w]=(0,r.useState)("png"),[N,j]=(0,r.useState)(null),k={friendly_name:null,image_src:null,description:null,cores:2,memory:2768,gpu_count:0,cpu_allocation_method:"Inherit",docker_registry:"https://index.docker.io/v1/",categories:[],require_gpu:!1,enabled:!0,image_type:"Container"},[S,C]=(0,r.useState)(k);(0,d.useRouter)(),(0,r.useEffect)(()=>{if(null===a)p.current.value="",l.current.value="",m.current.value="",f(null),x(null),_(null),C(k);else if(a&&a[0]){let e=u.wZ.find(e=>e.friendly_name===atob(a[0]));if(delete e.sha,p.current.value=e.description,l.current.value=e.name,m.current.value=e.friendly_name,e.categories){let a=[];e.categories.map(e=>a.push({label:e,value:e})),f(a)}if(e.architecture){let a=[];e.architecture.map(e=>a.push({label:e,value:e})),x(a)}j("../../icons/"+e.image_src),C({...S,...e})}},[a]);let R={control:(e,a)=>({...e,background:"#f1f5f9",borderRadius:"0.5rem",borderColor:"#94a3b8"}),multiValue:(e,a)=>{let{data:t}=a;return{...e,backgroundColor:"#dde6f1"}}};function I(e){var a=e.toString().toLowerCase();return(a=(a=(a=a.split(/\&+/).join("-and-")).split(/[^a-z0-9]/).join("-")).split(/-+/).join("-")).trim("-")}(0,r.useEffect)(()=>{if(S&&S.friendly_name){let e={...S};e.image_src=I(e.friendly_name)+"."+y,C(e)}},[y]);let L=e=>{let a={...S};a[e.target.name]=e.target.value,"icon"===e.target.name&&(delete a.icon,_({value:e.target.value,file:e.target.files[0]}),w(e.target.value.substr(e.target.value.lastIndexOf(".")+1)),j(null)),a.friendly_name&&(a.image_src=I(a.friendly_name)+"."+y),C(a)};return(0,s.jsxs)("div",{className:"",children:[(0,s.jsxs)(i(),{children:[(0,s.jsx)("title",{children:"Kasm Workspaces"}),(0,s.jsx)("meta",{name:"description",content:"List of workspaces for Kasm Webspaces"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row w-full my-20 max-w-6xl text-sm rounded-xl overflow-hidden mx-auto",children:[(0,s.jsxs)("div",{className:"w-full lg:w-1/2 p-16 bg-slate-300",children:[(0,s.jsx)("h1",{className:"text-2xl font-medium mb-2",children:"Add Workspace"}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("p",{className:"mb-8 opacity-70",children:'This page is designed to allow admins to generate the JSON they need to upload to the "workspaces" directory. It also allows end users to see what settings are needed if they want to manually copy them into a new workspace.'}),(0,s.jsx)("label",{className:"mb-2 font-medium",children:"Icon"}),(0,s.jsx)("input",{type:"file",name:"icon",onChange:L,className:"mb-2 p-2 rounded-lg bg-slate-100 border border-solid border-slate-400"}),(0,s.jsx)("p",{className:"mb-6 opacity-70",children:"Select the image to use, image will be renamed when it's downloaded."}),(0,s.jsx)("label",{className:"mb-2 font-medium",children:"Friendly Name"}),(0,s.jsx)("input",{ref:m,name:"friendly_name",onChange:L,className:"mb-2 p-2 rounded-lg bg-slate-100 border border-solid border-slate-400"}),(0,s.jsx)("p",{className:"mb-6 opacity-70",children:"This is the name that will show for users"}),(0,s.jsx)("label",{className:"mb-2 font-medium",children:"Categories"}),(0,s.jsx)(o.Z,{instanceId:"1",name:"categories",isMulti:!0,options:[{value:"Browser",label:"Browser"},{value:"Communication",label:"Communication"},{value:"Desktop",label:"Desktop"},{value:"Development",label:"Development"},{value:"Games",label:"Games"},{value:"Multimedia",label:"Multimedia"},{value:"Office",label:"Office"},{value:"Privacy",label:"Privacy"},{value:"Productivity",label:"Productivity"},{value:"Remote Access",label:"Remote Access"}],onChange:e=>{let a={...S};a.categories=e.map(e=>e.value),C(a);let t=[];a.categories.map(e=>t.push({label:e,value:e})),f(t)},styles:R,value:b}),(0,s.jsx)("p",{className:"mb-6 mt-2 opacity-70",children:"You can select from the available option or create new ones."}),(0,s.jsx)("label",{className:"mb-2 font-medium",children:"Description"}),(0,s.jsx)("input",{ref:p,name:"description",onChange:L,className:"mb-2 p-2 rounded-lg bg-slate-100 border border-solid border-slate-400"}),(0,s.jsx)("p",{className:"mb-6 opacity-70",children:"A short description about the workspace"}),(0,s.jsx)("label",{className:"mb-2 font-medium",children:"Docker Image"}),(0,s.jsx)("input",{ref:l,name:"name",onChange:L,className:"mb-2 p-2 rounded-lg bg-slate-100 border border-solid border-slate-400"}),(0,s.jsxs)("p",{className:"mb-6 opacity-70",children:["The docker image to use, i.e. ",(0,s.jsx)("code",{className:"text-xs p-1 px-2 rounded bg-white/40",children:"kasmweb/filezilla:develop"})]}),(0,s.jsx)("label",{className:"mb-2 font-medium",children:"Architecture"}),(0,s.jsx)(c.ZP,{instanceId:"2",name:"architecture",isMulti:!0,options:[{value:"amd64",label:"amd64"},{value:"arm64",label:"arm64"}],onChange:e=>{let a={...S};a.architecture=e.map(e=>e.value),C(a);let t=[];a.architecture.map(e=>t.push({label:e,value:e})),x(t)},styles:R,value:g}),(0,s.jsx)("p",{className:"mb-6 mt-2 opacity-70",children:"You can select from the available option or create new ones."})]})]}),(0,s.jsxs)("div",{className:"w-full lg:w-1/2 p-16 bg-slate-100",children:[(0,s.jsx)(h,{workspace:S,icon:v,inlineImage:N}),(0,s.jsx)("pre",{className:"my-8 overflow-y-auto text-xs",children:JSON.stringify({...S},null,2)}),(0,s.jsx)("button",{onClick:()=>{let e=new(t(5733)),a=e.folder(S.friendly_name);if(a.file("workspace.json",JSON.stringify(S,null,2)),v)a.file(S.image_src,v.file);else if(N){let e=fetch(N).then(e=>e.blob());a.file(S.image_src,e)}e.generateAsync({type:"blob"}).then(function(e){(0,n.saveAs)(e,I(S.friendly_name)+".zip")})},className:"p-4 relative z-10 px-5 bg-[#2980b9] border-t border-white/20 border-solid hover:bg-slate-900 transition m-2 rounded items-center text-white/70 flex cursor-pointer",children:"Download"})]})]})]})}function h(e){let{workspace:a,icon:t,inlineImage:l}=e,[i,n]=(0,r.useState)(!1),o=null;if(t){let e=new Blob([t.file]);o=URL.createObjectURL(e),a.image_src=o}return(0,s.jsx)("div",{className:"rounded-xl group w-full shadow max-w-xs relative overflow-hidden h-[100px] border border-solid flex flex-col justify-between bg-slate-300 border-slate-400/50",children:(0,s.jsxs)("div",{className:"absolute top-0 left-0 right-0 h-[200px] transition-all"+(i?" -translate-y-1/2":""),children:[(0,s.jsxs)("div",{onClick:()=>n(!0),className:"h-[100px] p-4 relative overflow-hidden cursor-pointer",children:[(0,s.jsx)("img",{className:"h-[90px] group-hover:scale-150 transition-all absolute left-2 top-1",src:a.image_src,onError:e=>{null!==l&&(e.target.src=l)},alt:a.friendly_name}),(0,s.jsxs)("div",{className:"flex-col pl-28",children:[(0,s.jsx)("div",{className:"font-bold",children:a.friendly_name||"Friendly Name"}),(0,s.jsxs)("div",{className:"text-xs mb-2 flex gap-2",children:["SquirrelWorks Kasm Registry"," ",(0,s.jsx)("span",{children:void 0})]}),(0,s.jsx)("div",{className:" h-8"})]}),(0,s.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-slate-400/20 h-8 text-[10px] flex items-center justify-center",children:[a.architecture&&a.architecture.map((e,a)=>(0,s.jsx)("span",{className:"p-2 py-0 m-[1px] inline-block rounded bg-slate-400/70",children:e},"arch"+a)),a.categories.map((e,a)=>(0,s.jsx)("span",{className:"p-2 py-0 m-[1px] inline-block rounded bg-slate-300/90",children:e},"cat"+a))]}),!1]}),(0,s.jsxs)("div",{className:"h-[100px] text-xs relative p-2 pl-4 flex",children:[(0,s.jsx)("button",{className:"absolute right-2 top-2 bg-slate-100 rounded-full flex justify-center items-center h-6 w-6",onClick:()=>n(!1),children:(0,s.jsx)("svg",{style:{height:"14px"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",children:(0,s.jsx)("path",{d:"M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"})})}),(0,s.jsxs)("div",{className:"flex flex-col flex-grow",children:[(0,s.jsx)("div",{className:"font-bold",children:a.friendly_name})," ",a.description]}),(0,s.jsxs)("div",{className:"flex flex-col justify-end gap-1",children:[(0,s.jsx)("div",{className:"text-xs text-color w-full p-4 py-1 rounded-lg bg-black/5 flex justify-center items-center",children:"Edit"}),(0,s.jsx)("button",{className:"text-xs w-full p-4 py-1 rounded-lg flex justify-center items-center bg-blue-500 font-bold text-white",children:"Install"})]})]})]})})}}},function(e){e.O(0,[484,888,774,179],function(){return e(e.s=4873)}),_N_E=e.O()}]);